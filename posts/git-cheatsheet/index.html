<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.2"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Git 命令小抄" /><meta name="author" content="xjliang" /><meta property="og:locale" content="en_US" /><meta name="description" content="配置" /><meta property="og:description" content="配置" /><link rel="canonical" href="/posts/git-cheatsheet/" /><meta property="og:url" content="/posts/git-cheatsheet/" /><meta property="og:site_name" content="Xjliang’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-19T14:25:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Git 命令小抄" /> <script type="application/ld+json"> {"description":"配置","url":"/posts/git-cheatsheet/","@type":"BlogPosting","headline":"Git 命令小抄","dateModified":"2021-01-19T14:38:42+08:00","datePublished":"2021-01-19T14:25:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/git-cheatsheet/"},"author":{"@type":"Person","name":"xjliang"},"@context":"https://schema.org"}</script><title>Git 命令小抄 | Xjliang's Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-CDTVZRNVBF"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-CDTVZRNVBF'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Xjliang's Blog</a></div><div class="site-subtitle font-italic">Keep learning!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tabs/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tabs/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/tabs/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tabs/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/xjliang" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gnulxj#gmail.com',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Git 命令小抄</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Git 命令小抄</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Jan 19, 2021, 2:25 PM +0800" > Jan 19 <i class="unloaded">2021-01-19T14:25:00+08:00</i> </span> by <span class="author"> xjliang </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, Jan 19, 2021, 2:38 PM +0800" > Jan 19 <i class="unloaded">2021-01-19T14:38:42+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5007 words">27 min</span></div></div><div class="post-content"><h3 id="配置">配置</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>git config <span class="nt">--global</span> <span class="s2">"Your Name"</span>
git config <span class="nt">--global</span> <span class="s2">"Email Address"</span>
git config <span class="nt">--global</span> credential.helper store    保存密码 <span class="o">(</span>每次要输密码 / 重复输密码<span class="o">)</span>
</pre></table></code></div></div><h3 id="初始化">初始化</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git init
</pre></table></code></div></div><h3 id="提交修改">提交修改</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>git add &lt;file&gt;
git add <span class="nt">-u</span> 提交 work directory 中所有已 track 的文件至 staging area
git commit <span class="nt">-m</span> <span class="s2">"descriptions"</span>
git commit <span class="nt">--amend</span> 对最近一次的提交做内容修改
git commit <span class="nt">--amend</span> <span class="nt">--author</span> <span class="s2">"user_name &lt;user_email&gt;"</span> 修改最近提交用户名和邮箱
</pre></table></code></div></div><h3 id="查看状态比对">查看状态、比对</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>git status
git status <span class="nt">-s</span> 文件状态缩略信息，常见 A: 新增；M: 文件变更；?: 未 track<span class="p">;</span> D: 删除
git diff &lt;file&gt;
git diff HEAD <span class="nt">--</span> &lt;file&gt;                 查看工作区和版本库里面最新版本的区别
git diff <span class="nt">--check</span> &lt;file&gt;                 检查是否有空白错误 <span class="o">(</span>regex:<span class="s1">' \{1,\}$'</span><span class="o">)</span>
git diff <span class="nt">--cached</span> &lt;file&gt;                查看已 add 的内容 <span class="o">(</span>绿 M<span class="o">)</span>
git diff branch1 branch2 <span class="nt">--stat</span>         查看两个分支差异
git diff branch1 branch2 &lt;file...&gt;      查看分支文件具体差异
</pre></table></code></div></div><h3 id="查看历史版本历史操作">查看历史版本、历史操作</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre>git log
git reflog
git log <span class="nt">-n</span>                               最近 n 条的提交历史
git log &lt;branch_name&gt; <span class="nt">-n</span>                 分支 branch_name 最近 n 条的提交历史
git log <span class="nt">--stat</span>                           历次 commit 的文件变化
git log <span class="nt">--shortstat</span>                      对比 <span class="nt">--stat</span> 只显示最后的总文件和行数变化统计 <span class="o">(</span>n file changed, n insertions <span class="o">(</span>+<span class="o">)</span>, n deletion <span class="o">(</span>-<span class="o">))</span>
git log <span class="nt">--name-status</span>                    显示新增、修改、删除的文件清单
git log lhs_hash..rhs_hash               对比两次 commit 的变化 <span class="o">(</span>增删的主语为 lhs, 如 git log HEAD~2..HEAD <span class="o">==</span> git log HEAD <span class="nt">-3</span><span class="o">)</span>
git log <span class="nt">-p</span>                               历次 commit 的内容增删
git log <span class="nt">-p</span> <span class="nt">-W</span>                            历次 commit 的内容增删，同时显示变更内容的上下文
git log origin/EI-1024 <span class="nt">-1</span> <span class="nt">--stat</span> <span class="nt">-p</span> <span class="nt">-W</span>   查看远端分支 EI-1024 前一次修改的详细内容
git log origin/master..dev <span class="nt">--stat</span> <span class="nt">-p</span> <span class="nt">-W</span>  查看本地 dev 分支比远端 master 分支变化 <span class="o">(</span>修改<span class="o">)</span> 的详细内容

git log &lt;branch_name&gt; <span class="nt">--oneline</span>                    对提交历史单行排列
git log &lt;branch_name&gt; <span class="nt">--graph</span>                      对提交历史图形化排列
git log &lt;branch_name&gt; <span class="nt">--decorate</span>                   对提交历史关联相关引用，如 tag, 本地远程分支等
git log &lt;branch_name&gt; <span class="nt">--oneline</span> <span class="nt">--graph</span> <span class="nt">--decorate</span> 拼接一下，树形化显示历史
git log <span class="nt">--graph</span> <span class="nt">--pretty</span><span class="o">=</span>format:<span class="s1">'% Cred% h% Creset -% C (yellow)% d% Creset % s % Cgreen% ai (% cr) % C (bold blue)&lt;% an&gt;% Creset'</span> <span class="nt">--abbrev-commit</span> 同上，建议 alais 保存

git log <span class="nt">--pretty</span><span class="o">=</span>format 常用的选项 <span class="o">(</span>摘自 progit_v2.1.9<span class="o">)</span>
 % H 提交对象（commit）的完整哈希字串
 % h 提交对象的简短哈希字串
 % T 树对象（tree）的完整哈希字串
 % t 树对象的简短哈希字串
 % P 父对象（parent）的完整哈希字串
 % p 父对象的简短哈希字串
 % an 作者（author）的名字
 % ae 作者的电子邮件地址
 % ad 作者修订日期（可以用 <span class="nt">--date</span><span class="o">=</span> 选项定制格式）
 % ar 作者修订日期，按多久以前的方式显示
 % cn 提交者（committer）的名字
 % ce 提交者的电子邮件地址
 % <span class="nb">cd </span>提交日期
 % cr 提交日期，按多久以前的方式显示
 % s 提交说明

git log <span class="nt">--since</span> <span class="nt">--after</span>     显示时间之后的提交
git log <span class="nt">--until</span> <span class="nt">--before</span>    显示时间之前的提交
git <span class="nt">--author</span>            显示指定作者的提交
git <span class="nt">--committer</span>          显示指定 committer 的提交 <span class="o">(</span>注:committer 不一定是 author<span class="o">)</span>
git log <span class="nt">-S</span> <span class="o">[</span>keyword]        仅显示添加或移除了某个关键字的提交 <span class="o">(</span>某些场景比单独 git log <span class="nt">-p</span> | <span class="nb">grep</span> <span class="o">[</span>keyword] 好用很多<span class="o">)</span>
git log origin/b3.3/master <span class="nt">--author</span><span class="o">=</span>yx-ren <span class="nt">--since</span><span class="o">=</span><span class="s2">"2019-10-01"</span> <span class="nt">--before</span><span class="o">=</span><span class="s2">"2019-11-01"</span> 查看某作者在某发布版本最近一个月的提交，常见于线上背锅
git log origin/b3.0/master <span class="nt">--author</span><span class="o">=</span>some_leave <span class="nt">--since</span><span class="o">=</span><span class="s2">"1 month ago"</span> 查看某刚离职同事过去一个月的提交，常见于背锅
git log <span class="nt">--since</span><span class="o">=</span>1.weeks     过去一周的提交 <span class="o">(</span>写周报的时候可以看看我这一周干了啥<span class="o">)</span>
git log <span class="nt">--since</span><span class="o">=</span>1.days      过去一天的提交 <span class="o">(</span>下班的时候可以看看我这一天干了啥<span class="o">)</span>
git log <span class="nt">--since</span><span class="o">=</span><span class="s2">"1 weeks 2 days 3 hours 40 minutes 50 seconds ago"</span> 过去 1 周 2 天 3 小时 40 分 50 秒之内的提交
</pre></table></code></div></div><h3 id="版本回退前进">版本回退、前进</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>git reset <span class="nt">--hard</span> HEAD^      回退到上 1 版本
git reset <span class="nt">--hard</span> HEAD~5     回退到上 5 个版本
git reset <span class="nt">--hard</span> <span class="nb">id         </span>回退到指定版本
</pre></table></code></div></div><h3 id="撤销修改">撤销修改</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>git checkout <span class="nt">--</span> &lt;file&gt;      撤销修改：误修改工作区文件，未 git add/commit
git restore &lt;file&gt;          撤销修改：误修改工作区文件，未 git add/commit
git reset HEAD &lt;file&gt;       撤销 git add：误将文件加入暂存区（git add），未 git commit
git reset <span class="nt">--hard</span> HEAD^      撤销 git commit：误将文件提交（一旦提交，只能通过版本回退进行撤销）
</pre></table></code></div></div><h3 id="删除与恢复">删除与恢复</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>git <span class="nb">rm</span>/add &lt;file&gt;
git commit <span class="nt">-m</span> <span class="s2">"remove &lt;file&gt;"</span>   删除版本库中的 &lt; file&gt;：删除工作区文件后，继续删除版本库中相应的文件
git checkout <span class="nt">--</span> &lt;file&gt;          根据版本库中的 &lt; file <span class="o">&gt;</span> 恢复工作区 &lt; file&gt;
</pre></table></code></div></div><h3 id="清理工作未-track-也未-ignore-的文件或文件夹-如各种临时swp-patch-文件等">清理工作未 track 也未 ignore 的文件或文件夹 (如各种临时.swp, .patch 文件等)</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>git clean <span class="nt">-i</span>     交互式清理，不常用
git clean <span class="nt">-n</span>     查看清理文件列表 <span class="o">(</span>不包括文件夹<span class="o">)</span>, 不执行实际清理动作
git clean <span class="nt">-n</span> <span class="nt">-d</span>  查看清理文件列表 <span class="o">(</span>包括文件夹<span class="o">)</span>, 不执行实际清理动作
git clean <span class="nt">-f</span>     清理所有未 track 文件
git clean <span class="nt">-df</span>    清理所有未 track 文件和文件夹，常用，但使用前确保新增加的文件或文件夹已 add, 否则新创建的文件或者文件夹也会被强制删除
</pre></table></code></div></div><h3 id="关联-github-远程仓库本地到远程">关联 GitHub 远程仓库（本地到远程）</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>git remote add origin &lt;remote address&gt;    在本地工作区目录下按照 GitHub 提示进行关联
git remote <span class="nb">rm </span>origin                      解除错误关联
git push <span class="nt">-u</span> origin master                 第一次将本地仓库推送至远程仓库（每次在本地提交后进行操作）
git push origin master                    以后每次将本地仓库推送至远程仓库（每次在本地提交后进行操作）
&lt;remote address&gt;:
    git@github.com:&lt;username&gt;/&lt;repository&gt;.git
    https://github.com/&lt;username&gt;/&lt;repository&gt;.git
</pre></table></code></div></div><h3 id="克隆-github-远程仓库远程到本地">克隆 GitHub 远程仓库（远程到本地）</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git clone &lt;remote address&gt;    git 协议速度更快但通常公司内网不允许，https 协议速度慢
</pre></table></code></div></div><h3 id="分支管理创建切换查看合并删除">分支管理：创建、切换、查看、合并、删除</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>git branch &lt;branch name&gt;               创建 &lt; branch name <span class="o">&gt;</span> 分支
git checkout &lt;branch name&gt;             切换至 &lt; branch name <span class="o">&gt;</span> 分支
git switch &lt;branch name&gt;               切换至 &lt; branch name <span class="o">&gt;</span> 分支
git checkout <span class="nt">-b</span> &lt;branch name&gt;          创建并切换至 &lt; branch name <span class="o">&gt;</span> 分支
git switch <span class="nt">-c</span> &lt;branch name&gt;            创建并切换至 &lt; branch name <span class="o">&gt;</span> 分支
git branch                             查看已有分支（<span class="k">*</span> 表示当前分支）
git merge &lt;branch name&gt;                合并 &lt; branch name <span class="o">&gt;</span> 到当前分支（通常在 master 分支下操作）
git branch <span class="nt">-d</span> &lt;branch name&gt;            删除分支
git branch <span class="nt">-m</span> oldbranchname newname    删除分支
</pre></table></code></div></div><h3 id="解决合并冲突">解决合并冲突</h3><p>合并时报错 “分支发生冲突”，首先 vim 相应文件，修改冲突位置，然后按照 git add/commit 重新提交，最后删除多余分支即可。</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git log <span class="nt">--graph</span> <span class="nt">--pretty</span><span class="o">=</span>oneline <span class="nt">--abbrev-commit</span>
git log <span class="nt">--graph</span>
</pre></table></code></div></div><h3 id="分支管理合并后删除分支也在-log-中保留分支记录">分支管理：合并后删除分支也在 log 中保留分支记录</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git merge <span class="nt">--no-ff</span> <span class="nt">-m</span> <span class="s2">"descriptions"</span> &lt;branch name&gt;
</pre></table></code></div></div><h3 id="开发流程">开发流程</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>master 分支              发布稳定版本
dev 分支                 发布开发版本
&lt;developer name&gt; 分支    个人开发分支（个人开发完成将该分支并入 dev，同时保留该分支，继续开发）
</pre></table></code></div></div><h3 id="bug-分支管理建立单独分支进行-bug-修复">Bug 分支管理（建立单独分支进行 bug 修复）</h3><p>软件开发中，bug 就像家常便饭一样。有了 bug 就需要修复，在 Git 中，由于分支是如此的强大，所以，每个 bug 都可以通过一个新的临时分支来修复，修复后，合并分支，然后将临时分支删除。</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>git stash                   保存当前工作现场（在 dev 未完成开发，但 master 有 bug 需要修复）
git stash pop               回到 dev 分支后恢复工作现场（list 中的现场会同时被删除）
git stash list              查看当前存储的工作现场
git stash apply stash@<span class="o">{</span><span class="se">\#</span><span class="o">}</span>   回到指定工作现场（list 中的现场不会被删除，需要用 git stash drop）
git stash drop stash@<span class="o">{</span><span class="se">\#</span><span class="o">}</span>    删除指定工作现场
git cherry-pick &lt;<span class="nb">id</span><span class="o">&gt;</span>        在 master 修复好 bug 后，在 dev 复制一遍 bug 修复流程
</pre></table></code></div></div><h3 id="feature-分支管理建立单独分支添加新功能">Feature 分支管理（建立单独分支添加新功能）</h3><p>软件开发中，总有无穷无尽的新的功能要不断添加进来。添加一个新功能时，你肯定不希望因为一些实验性质的代码，把主分支搞乱了，所以，每添加一个新功能，最好新建一个 feature 分支，在上面开发，完成后，合并，最后，删除该 feature 分支。</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git branch <span class="nt">-D</span> &lt;branch name&gt;    强制删除分支（丢弃未合并分支）
</pre></table></code></div></div><h3 id="协作与分支推送">协作与分支推送</h3><p>User 1:</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>git remote <span class="o">[</span><span class="nt">-v</span><span class="o">]</span>                       查看远程库信息（-v 查看详细信息）
git remote update origin <span class="nt">--prune</span>      更新分支列表 <span class="o">(</span>更新远程分支列表<span class="o">)</span>
git remote update origin <span class="nt">-p</span>           更新分支列表 <span class="o">(</span>更新远程分支列表<span class="o">)</span>
git push origin <span class="o">[</span>master/dev/...]      推送指定分支到远程
</pre></table></code></div></div><p>User 2:</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>git clone &lt;remote address&gt;            克隆到本地（只能克隆 master）
git checkout <span class="nt">-b</span> dev origin/dev        本地新建分支并关联远程
git add/commit/push                   添加、提交、推送更新
</pre></table></code></div></div><p>User 1:</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>git add/commit/push                    推送时报错（与 user 2 推送的更新冲突）
git pull &lt;remote&gt; &lt;branch&gt;
git branch <span class="nt">--set-upstream-to</span><span class="o">=</span>origin/&lt;branch&gt; &lt;branch&gt;    本地与远程关联
git pull                               拉取远程文件（并解决冲突）
git commit/push                        重新提交并推送
</pre></table></code></div></div><h3 id="标签管理常用于版本管理查看创建操作">标签管理（常用于版本管理）：查看、创建、操作</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>git tag                                                     查看标签
git show &lt;tag name&gt;                                         查看指定标签
git log <span class="nt">--pretty</span><span class="o">=</span>oneline <span class="nt">--abbrev-commit</span> <span class="nt">--decorate</span><span class="o">=</span>full    在 log 中显示标签
git tag &lt;tag name&gt;                                          为上次 commit 位置打标签
git tag &lt;tag name&gt; &lt;commit <span class="nb">id</span><span class="o">&gt;</span>                              为指定 commit 位置打标签
git tag <span class="nt">-a</span> &lt;tag name&gt; <span class="nt">-m</span> <span class="s2">"descriptions"</span> &lt;commit <span class="nb">id</span><span class="o">&gt;</span>         为指定 commit 打标并添加描述
git tag <span class="nt">-d</span> &lt;tag name&gt;                                       删除本地标签
git push origin &lt;tag name&gt;                                  推送指定标签到远程
git push origin <span class="nt">--tags</span>                                      推送所有本地标签到远程
git push origin :refs/tags/&lt;tag name&gt;                       删除远程标签（先删除本地标签）
</pre></table></code></div></div><h3 id="rebase-换基">rebase (换基)</h3><p>rebase 在日常中常用功能主要是两个，多人协同开发定期 rebase master 以及压缩某分支多个 commit。</p><p>git rebase master 常见于多人开发，每个开发人员从 master checkout 出自己的分支，开发一段时间后提交至 master 之前最好 rebase 一下，防止冲突，就算真有冲突在本地解决好过强制提交，开发流程中尽量保证 master 的干净整洁。</p><p>举个例子：master 分支上有三个提交 C1, C2, C3，某一时刻 usr1 在 C3 的 master 分支上 checkout 出新的分支，用于开发服务端支持 ipv6 新特性，并提交了 C4, C5：</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>git checkout <span class="nt">-b</span> ipv6_support
......
git commit <span class="nt">-m</span> C4
......
git commit <span class="nt">-m</span> C5
</pre></table></code></div></div><p>此时提交状态如下所示：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>	      (origin/master branch)
              |
     C1 &lt;- C2 &lt;- C3
              \
               \
                \
                 C4 &lt;- C5
                      |
                (ipv6_support branch)
</pre></table></code></div></div><p>某同事 usr2 修改了 master 上的内存泄漏错误，并提交了 C6, C7, C8 三个 commit, 然后直接推送 origin/master (假设这个期间无其他人推新内容到 master)，此时提交状态如下所示</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>           (origin/usr2/fix_mem_leak branch)
                     |
C1 &lt;- C2 &lt;- C3 &lt;- C6 &lt;- C7 &lt;- C8
             \        |
              \   (origin/master branch)
               \
                C4 &lt;- C5
                    |
              (ipv6_support branch)
</pre></table></code></div></div><p>如果此时 usr1 希望将 ipv6 的新特性提交至 master, 那么在其直接 push origin master 时会提示 master 需要合并分支 ipv6_support，虽然 C4, C5 的改动内容完全独立于 C6, C7, C8 的改动， 但 Git 仍会抓取 C5 和 C8 的提交并产生一个新的 C9 commit (因两者分支的 base 不同)，如下图所示：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>C1 &lt;- C2 &lt;- C3 &lt;- C6 &lt;- C7 &lt;- C8
          \           \
           \           \
            \           \
             C4 &lt;- C5 &lt;------ C9
</pre></table></code></div></div><p>如果是为了保证 master 提交记录的 “干净完整”或者是某分支不着急提交，仍需要更多的测试与开发，但又不想分支开发周期结束后“偏离”当初 checkout 的 master 分支太久远 (容易造成更多的冲突)，可以考虑 (定期) 利用 rebase 来进行变基，即上面提到过的多人协同开发，定期 rebase master 是个好习惯：</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git checkout ipv6_support
<span class="nv">$ </span>git rebase master
</pre></table></code></div></div><p>结果提交状态如下所示：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>      (origin/master origin/usr2/fix_mem_leak branch)
                     |
C1 &lt;- C2 &lt;- C3 &lt;- C6 &lt;- C7 &lt;- C8
                     \
                      \
                       \
                        C4' &lt;- C5'
                             |
                        (ipv6_support branch)
</pre></table></code></div></div><p>这种 rebase 在功能上类似将某分支所有的改动做成多个 patch 并依次打在指定的新 base 上。此时再提交 master 就不会产生抓取效果，会将 C4’ 和 C5’ 直接提交至 master，即 can be fast-forwarded, 同时也保证了 master 提交记录的整洁性 （注：虽然 C4’ 和 C5’ 的内容和 C4, C5 完全一致，但两者 base 不同，commit hash code 也完全不同）</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git rebase <span class="nt">--noto</span> &lt;branch_lhs&gt; &lt;branch_rhs&gt;   <span class="c">#重放，用于变基在分支 branch_lhs 中而不在 branch_rhs 中的 commit</span>
</pre></table></code></div></div><p>某项目状态分支如下所示，其中 Cn 的数字代表提交时间顺序：</p><p>T1 某员工 urs1 从 C2 (master 分支) checkout 出一个新的分支用于开发某基础公共组件功能</p><p>T2 员工 usr1 开发完毕提交 C3, 然后继续在该分支上 (或 checkout -b server) 开发服务端相关功能，并提交 C4</p><p>T3 master 分支有更新，其他同事 usr2 提交了 C5, C6 并推送到了 origin master</p><p>T4 员工 usr1 从 server 分支切回到 C3 公共基础的提交，并创建新分支 client, 用于开发客户端功能，并提交 C8, C9</p><p>T5 员工 usr1 从 client 分支切回到 server 分支继续开发服务端功能，并提交 C10</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>        (master branch)
             |
C1 &lt;- C2 &lt;- C5 &lt;- C6
     \
      \
       \
        C3 &lt;- C4 &lt;- C10
         \       |
          \  (server branch)
           \
            C8 &lt;- C9
                |
           (client branch)
</pre></table></code></div></div><p>此时该员工希望将客户端相关的功能合并到主分支并发布，但暂时并不想合并 server 中的修改，因为它们还需要经过更全面的测试。 这时可以使用 git rebase 命令的 –onto 选项，选中在 client 分支里但不在 server 分支里的修改（即 C8 和 C9），将它们在 master 分支上重放：</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git rebase <span class="nt">--noto</span> client server
</pre></table></code></div></div><p>得到如下图所示的提交状态，注：其中 C3’, C8’, C9’ 与 C3, C8, C9 的提交内容完全一样，但是 hash id 是完全不同的</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>        (master branch)(client branch)
             |        |
C1 &lt;- C2 &lt;- C5 &lt;- C6 &lt;- C8' &lt;- C9'
     \
      \
       \
        C3 &lt;- C4 &lt;- C10
         \       |
          \  (server branch)
           \
         [#####disable######]
         [  C8 &lt;- C9      ]
         [      |       ]
         [  (client branch) ]
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c">#can be fast-forwarded</span>
git checkout master
git merge client
</pre></table></code></div></div><p>提交后分支状态如下</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>                     (client branch)
                          |
C1 &lt;- C2 &lt;- C5 &lt;- C6 &lt;- C3' &lt;- C8' &lt;- C9'
     \                     |
      \                (master branch)
       \
        C3 &lt;- C4 &lt;- C10
                 |
            (server branch)
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git rebase <span class="nt">-i</span> HEAD~n 压缩当前分支的 n 个 commit 并合并为 1 个 commit, 常见第一行为 pick, 剩下的 n-1 行为 squash
</pre></table></code></div></div><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git rebase <span class="nt">--abort</span> <span class="c"># rebase 过程中发生错误，可以利用该命令终止整个 rebase 过程</span>
git rebase <span class="nt">--continue</span> <span class="c"># rebase 过程中发生冲突，在解决冲突后可以利用该命令进行后续过程</span>
</pre></table></code></div></div><h3 id="打-patch-补丁">打 patch (补丁)</h3><p>生成 diff patch 文件 (git 可以识别 diff 文件)</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git &lt;branch&gt; log <span class="nt">-n</span> <span class="nt">-p</span> <span class="o">&gt;</span> diff.patch <span class="c"># 生成某分支过去 n 个 commit 的文件 diff 信息至单个 diff 文件</span>
git diff &lt;<span class="nt">--cached</span><span class="o">&gt;</span> diff.patch <span class="c"># 针对当前缓存区的内容生成 diff 文件</span>
</pre></table></code></div></div><p>利用 apply 打 patch</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>git apply <span class="nt">--check</span> diff.patch    <span class="c"># 检查是否可以正常应用，无回显证明无冲突</span>
git apply <span class="nt">--stat</span> diff.patch     <span class="c"># 查看应用 diff 文件后的文件变化</span>
git apply diff.patch         <span class="c"># 打 patch, 仅仅改变文件信息，无 commit 信息，仍然需要 add, commit</span>
</pre></table></code></div></div><p>利用 –format-patch 生成 patch, 带 commit 信息</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>git format-patch &lt;branch&gt; <span class="nt">-n</span> 　 <span class="c"># 生成分支 &lt; branch &gt; 最近的 n 次 commit 的 patch</span>
git format-patch &lt;r1&gt;..&lt;r2&gt;     <span class="c"># 生成两个 commit 间的修改的 patch（包含两个 commit. &lt;r1 &gt; 和 &lt; r2 &gt; 都是具体的 commit 号)</span>
git format-patch <span class="nt">-1</span> &lt;r1&gt;        <span class="c"># 生成单个 commit 的 patch</span>
git format-patch &lt;r1&gt;           <span class="c"># 生成某 commit 以来的修改 patch（不包含该 commit）</span>
git format-patch <span class="nt">--root</span> &lt;r1&gt;　　# 生成从根到 r1 提交的所有 patch
</pre></table></code></div></div><p>利用 am 打 patch</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>git apply <span class="nt">--check</span> 0001-update-bash.sh.patch <span class="c">#检查 patch 是否冲突可用</span>
git apply <span class="nt">--stat</span> 0001-update-bash.sh.patch  <span class="c">#检查 patch 文件变更情况，无回显证明无冲突</span>
git am 0001-update-bash.sh.patch         <span class="c">#将该 patch 打上到当前分支，带 commit 信息</span>
git am ./<span class="k">*</span>.patch                    <span class="c">#将当前路径下的所有 patch 按照先后顺序打上</span>
git am <span class="nt">--abort</span>                     <span class="c">#终止整个打 patch 的过程，类似 rebase --abort</span>
git am <span class="nt">--resolved</span>                   <span class="c">#解决冲突后，可以执行该命令进行后续的 patch, 类似 rebase --continue</span>
</pre></table></code></div></div><h3 id="bundle-打包">bundle (打包)</h3><p>该命令会将 git 工程打包，默认情况下会打包所有 commit 记录和 track 的文件</p><p>不同于简单粗暴 tar.gz 打包整个文件夹，bundle 只打包那些 push 过的记录</p><p>如某 git 工程下存在.build 构建后的目录，而 <code class="language-plaintext highlighter-rouge">.gitignore</code> 又忽略了该文件夹</p><p>如果利用 tar.gz 打包则会将那些忽略的文件文件夹一并打包，可能会造成压缩包极大的臃肿</p><p>而又不想仅仅为了打个包就删除整个 build 目录 (如重新 build 时间成本太大)</p><p>那么就可以使用 bundle 进行打包，该命令只打包 track 过的文件</p><p>并且像 URL 那样直接调用 git clone 来重建</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git bundle create awesome-cheatsheets.bundle HEAD master <span class="c"># 打包重建 master 分支的所有数据</span>
git clone awesome-cheatsheets.bundle <span class="c"># 重建工程</span>
</pre></table></code></div></div><p>bundle 也可以打包指定的区间，至于提交区间有多种表示方式</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>git bundle create awesome-cheatsheets.bundle HEAD~10
git bundle create awesome-cheatsheets.bundle HEAD~10..HEAD
git bundle create awesome-cheatsheets.bundle lhs_commit_md5..rhs_commit_md5
git bundle create awesome-cheatsheets.bundle origin/master..master
git bundle create awesome-cheatsheets.bundle master ^origin/master
</pre></table></code></div></div><h3 id="使用-github">使用 GitHub</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>fork <span class="nt">--</span><span class="o">&gt;</span> clone <span class="nt">--</span><span class="o">&gt;</span> add/commit/push <span class="nt">--</span><span class="o">&gt;</span> pull request
</pre></table></code></div></div><h3 id="其他配置">其他配置</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git config <span class="nt">--global</span> color.ui <span class="nb">true    </span>显示颜色
</pre></table></code></div></div><h3 id="配置-gitignore-文件">配置 .gitignore 文件</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>/&lt;<span class="nb">dir </span>name&gt;/                     忽略文件夹
 <span class="k">*</span>.zip                           忽略.zip 文件
 /&lt;<span class="nb">dir </span>name&gt;/&lt;file name&gt;         忽略指定文件
</pre></table></code></div></div><h3 id="文件-gitignore-生效后">文件 .gitignore 生效后</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git add <span class="nt">-f</span> &lt;file&gt;               强制添加
git check-ignore <span class="nt">-v</span> &lt;file&gt;      查看生效规则
</pre></table></code></div></div><h3 id="配置别名">配置别名</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>git config <span class="o">[</span><span class="nt">--global</span><span class="o">]</span> alias.&lt;<span class="nb">alias</span><span class="o">&gt;</span> <span class="s1">'&lt;original command&gt;'</span>    为所有工作区 / 当前工作区配置别名
.git/config              当前工作区的配置文件
 ~/.gitconfig            当前用户的配置文件
</pre></table></code></div></div><h3 id="子模块">子模块</h3><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git submodule foreach git pull    子模块更新
</pre></table></code></div></div><p>克隆包含子模块的项目</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git clone <span class="nt">--recursive</span> <span class="o">[</span>URL to Git repo]
</pre></table></code></div></div><p>如果已经下载了项目，想要下载子模块，需要使用更新子模块的命令：</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>git submodule update <span class="nt">--init</span>

<span class="c"># 如果子模块还有嵌套的子模块</span>
git submodule update <span class="nt">--init</span>
</pre></table></code></div></div><p>拉取子模块的更新</p><div class="language-sh highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># 拉取远程仓库的所有更新（包括子模块）</span>
git pull <span class="nt">--recurse-submodules</span>

<span class="c"># 只拉取子模块的更新</span>
git submodule update <span class="nt">--remote</span>
</pre></table></code></div></div><h3 id="references">References</h3><p><a href="https://www.liaoxuefeng.com/wiki/896043488029600">Git教程 - 廖雪峰</a> <a href="https://git-scm.com/book/en/v2">git-scm</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/technology/'>Technology</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/git/" class="post-tag no-text-decoration" >git</a> <a href="/tags/scm/" class="post-tag no-text-decoration" >scm</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Git 命令小抄 - Xjliang's Blog&url=/posts/git-cheatsheet/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Git 命令小抄 - Xjliang's Blog&u=/posts/git-cheatsheet/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Git 命令小抄 - Xjliang's Blog&url=/posts/git-cheatsheet/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/two-star-programming/">Linus：使用二级指针删除单向链表的某个节点</a><li><a href="/posts/10-good-habits/">优秀程序员的十个习惯</a><li><a href="/posts/git-cheatsheet/">Git 命令小抄</a><li><a href="/posts/you-really-work-hard/">你真的很努力</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/editor/">editor</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/habits/">habits</a> <a class="post-tag" href="/tags/hard/">hard</a> <a class="post-tag" href="/tags/list/">list</a> <a class="post-tag" href="/tags/pointer/">pointer</a> <a class="post-tag" href="/tags/scm/">scm</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/vim/">vim</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/10-effective-work-with-shell/"><div class="card-body"> <span class="timeago small" > Feb 2 <i class="unloaded">2021-02-02T09:45:30+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>打造高效的工作环境 – SHELL 篇</h3><div class="text-muted small"><p> 程序员是一个很懒的群体，总想着能够让代码为自己干活，他们不断地把工作生活中的一些事情用代码自动化了，从而让整个社会的效率运作地越来越高。所以，程序员在准备去优化这个世界的时候，都会先要优化自己的工作环境，是所谓 “工欲善其事，必先利其器”。 我们每个程序员都应该打造一套让自己更为高效的工作环境。那怕就是让你少输入一次命令，少按一次键，少在鼠标和键盘间切换一次，都会让程序员的工作变得更为的高...</p></div></div></a></div><div class="card"> <a href="/posts/vim-without-plugins/"><div class="card-body"> <span class="timeago small" > Feb 2 <i class="unloaded">2021-02-02T10:07:30+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>无插件 VIM 编程技巧</h3><div class="text-muted small"><p> 这篇文章里的这些技巧全都是 vim 原生态的，不需要你安装什么插件。这里面是日常用 Vim 编程的一些技巧列出来给大家看看，希望对大家有用。 浏览代码 浏览目录的命令很简单：（你也可以直接 vim 一个目录） :E 注意，是大写。 在新弹出的界面中，你可以用 j, k 键上下移动，然后回车，进入一个目录，或是找开一个文件。你可以看到上面有一堆命令： 【–】 到上级目...</p></div></div></a></div><div class="card"> <a href="/posts/two-star-programming/"><div class="card-body"> <span class="timeago small" > Feb 2 <i class="unloaded">2021-02-02T11:20:10+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linus：使用二级指针删除单向链表的某个节点</h3><div class="text-muted small"><p> 2012年，Linus Torvalds 在 slashdot 回答了一些问题。在众多问题中，令我感兴趣的一个是 favorite hack。他的回答最后如下： At the opposite end of the spectrum, I actually wish more people understood the really core low-level kind of co...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/you-really-work-hard/" class="btn btn-outline-primary"><p>你真的很努力</p></a> <a href="/posts/10-good-habits/" class="btn btn-outline-primary"><p>优秀程序员的十个习惯</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/xjliang">xjliang</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/editor/">editor</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/habits/">habits</a> <a class="post-tag" href="/tags/hard/">hard</a> <a class="post-tag" href="/tags/list/">list</a> <a class="post-tag" href="/tags/pointer/">pointer</a> <a class="post-tag" href="/tags/scm/">scm</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/vim/">vim</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
